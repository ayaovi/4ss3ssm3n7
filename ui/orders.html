<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8" />
	<link rel="stylesheet" href="./css/site.css">

  <!--<script src="http://code.jquery.com/jquery.min.js"></script>-->
<!--  <script src="https://code.angularjs.org/1.3.14/angular.min.js"></script>-->
  <script src="lib/angular-1.3.14.min.js"></script>
  <script src="lib/jquery-3.2.1.min.js"></script>
  <script src="js/site.js"></script>
	
  <title>Cool Salesman Software</title>
</head>
<body ng-app="myApp" ng-controller="myCtrl" ng-cloak ng-init="FetchOrders()">
  <p>This is the orders page.</p>
  <div>
    <!--<button ng-click="ViewOrders()">View Orders</button>-->
    <table class="table">
      <tr>
        <th>
          Id
        </th>
        <th>
          ClientId
        </th>
        <th></th>
      </tr>
      <tr ng-repeat="order in orders" ng-class="rowClass(order)">
        <td>{{order.id}}</td>
        <td>{{order.client.id}}</td>
        <td>
          <button id="editBtn" ng-click="ShowOrderLines(order.id)">Edit</button>
          <button id="deleteBtn">Delete</button>
        </td>
      </tr>
    </table>
  </div>
  
  <div id="myModal" class="modal">
  <!-- Modal content -->
  <div class="modal-content">
    <div class="modal-header">
      <span class="close">&times;</span>
    </div>
    <div class="modal-body">
      <table id="ordLineTbl">
        <tr>
          <th>
            Id
          </th>
          <th>
            ItemId
          </th>
          <th>
            OrderId
          </th>
          <th>
            Quantity
          </th>
        </tr>
        <tr ng-repeat="orderline in orderlines" ng-class="rowClass(order)">
        <td>{{orderline.id}}</td>
        <td><input type="number" value="{{orderline.item.id}}"/></td>
        <td>{{orderline.order.id}}</td>
        <td><input type="number" value="{{orderline.quantity}}"/></td>
      </tr>
      </table>
    </div>
    <div class="modal-footer">
      <button>Save</button>
    </div>
  </div>
</div>
</body>
</html>